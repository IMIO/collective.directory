var geojsons = {};
//var markers = new L.MarkerClusterGroup();
<tal:block tal:define='geojsons view/get_geojsons'>
<tal:loop tal:repeat='geojson geojsons'>
data = <tal:name tal:content='geojson/geojson' />;
geojsons['<tal:name tal:content='geojson/title' />'] = L.geoJson(data, {
            onEachFeature: onEachFeature,
            pointToLayer: pointToLayer
        });
map.addLayer(geojsons['<tal:name tal:content='geojson/title' />']);
</tal:loop>
</tal:block>

function onEachFeature(feature, layer) {
    layer.bindPopup(
            '<a href="'+feature.properties.url+'" target="_blank">'+
            '<h3>'+feature.properties.title+'</h3>'+
            '</a>'+
            '<p>'+feature.properties.description+'</p>');
    layer.on('mouseover', function (e) {
        this.openPopup();
    });

    layer.on('mouseout', function (e) {
        //this.closePopup();
    });
}

function pointToLayer (feature, latlng) {
    var CustomIcon = L.Icon.Default.extend({
        options: {
            iconUrl: feature.style.image
        }
    });
    var customIcon = new CustomIcon();
    return L.marker(latlng, {icon: customIcon});
}
